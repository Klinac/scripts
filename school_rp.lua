do local Players=game:GetService("Players");local ReplicatedStorage=game:GetService("ReplicatedStorage");local CoreGui=game:GetService("CoreGui");local RunService=game:GetService("RunService");local UserInputService=game:GetService("UserInputService");local localPlayer=Players.LocalPlayer;local camera=workspace.CurrentCamera;local DoorsFolder=ReplicatedStorage:WaitForChild("Doors",10);local KickDoorEvent=DoorsFolder and DoorsFolder:WaitForChild("Kick",10) ;local DoorStatusFunction=DoorsFolder and DoorsFolder:WaitForChild("DoorStatus",10) ;local isPunching=false;local isSprinting=false;local isHeadMoving=false;local isMagicAiming=false;local isAutoTeleporting=false;local isAutoLocking=false;local isFistEquipped=false;local isMinimized=false;local doorDebounce=false;local isPowderEspOn=false;local isBottleEspOn=false;local isRollEspOn=false;local isDrillEspOn=false;local isVendingEspOn=false;local isBoxEspOn=false;local activeHighlights={Powder={},Bottle={},Roll={},Drill={},Box={}};local espConnections={Powder=nil,Bottle=nil,Roll=nil,Drill=nil,Box=nil};local vendingEspTrackedItems={};local lockedTarget=nil;local attackCoroutine=nil;local headMoveRenderStepName="HeadMovement";local magicAimRenderStepName="MagicAim";local originalNeckC0=nil;local originalWaistC0=nil;local originalTargetJoints={};local screenGui=Instance.new("ScreenGui");screenGui.Name="AutoToolsGUI";screenGui.Parent=CoreGui;screenGui.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;local mainFrame=Instance.new("Frame");mainFrame.Name="MainFrame";mainFrame.Parent=screenGui;mainFrame.BackgroundColor3=Color3.fromRGB(31,31,31);mainFrame.BorderColor3=Color3.fromRGB(80,80,80);mainFrame.BorderSizePixel=2;mainFrame.Position=UDim2.new(0.5, -125,0.5, -195);mainFrame.Size=UDim2.new(0,250,0,390);mainFrame.AnchorPoint=Vector2.new(0.5,0.5);mainFrame.Draggable=true;mainFrame.Active=true;local titleLabel=Instance.new("TextLabel");titleLabel.Name="TitleLabel";titleLabel.Parent=mainFrame;titleLabel.BackgroundColor3=Color3.fromRGB(45,45,45);titleLabel.BorderColor3=Color3.fromRGB(80,80,80);titleLabel.BorderSizePixel=1;titleLabel.Size=UDim2.new(1,0,0,30);titleLabel.Font=Enum.Font.SourceSansBold;titleLabel.Text="Auto Tools";titleLabel.TextColor3=Color3.fromRGB(255,255,255);titleLabel.TextSize=18;local closeButton=Instance.new("TextButton");closeButton.Name="CloseButton";closeButton.Parent=mainFrame;closeButton.BackgroundColor3=Color3.fromRGB(200,50,50);closeButton.BorderColor3=Color3.fromRGB(255,255,255);closeButton.BorderSizePixel=1;closeButton.Position=UDim2.new(1, -25,0,5);closeButton.Size=UDim2.new(0,20,0,20);closeButton.Font=Enum.Font.SourceSansBold;closeButton.Text="X";closeButton.TextColor3=Color3.fromRGB(255,255,255);closeButton.TextSize=14;closeButton.ZIndex=2;local minimizeButton=Instance.new("TextButton");minimizeButton.Name="MinimizeButton";minimizeButton.Parent=mainFrame;minimizeButton.BackgroundColor3=Color3.fromRGB(80,80,80);minimizeButton.BorderColor3=Color3.fromRGB(255,255,255);minimizeButton.BorderSizePixel=1;minimizeButton.Position=UDim2.new(1, -50,0,5);minimizeButton.Size=UDim2.new(0,20,0,20);minimizeButton.Font=Enum.Font.SourceSansBold;minimizeButton.Text="-";minimizeButton.TextColor3=Color3.fromRGB(255,255,255);minimizeButton.TextSize=20;minimizeButton.ZIndex=2;local tabContainer=Instance.new("Frame");tabContainer.Name="TabContainer";tabContainer.Parent=mainFrame;tabContainer.BackgroundTransparency=1;tabContainer.Position=UDim2.new(0,0,0,30);tabContainer.Size=UDim2.new(1,0,0,25);local attackTabButton=Instance.new("TextButton");attackTabButton.Name="AttackTabButton";attackTabButton.Parent=tabContainer;attackTabButton.BackgroundColor3=Color3.fromRGB(60,60,60);attackTabButton.Size=UDim2.new(1/4 ,0,1,0);attackTabButton.Font=Enum.Font.SourceSansBold;attackTabButton.Text="ATTACK";attackTabButton.TextColor3=Color3.fromRGB(255,255,255);attackTabButton.TextSize=14;local miscTabButton=Instance.new("TextButton");miscTabButton.Name="MiscTabButton";miscTabButton.Parent=tabContainer;miscTabButton.BackgroundColor3=Color3.fromRGB(40,40,40);miscTabButton.Position=UDim2.new(1/4 ,0,0,0);miscTabButton.Size=UDim2.new(1/4 ,0,1,0);miscTabButton.Font=Enum.Font.SourceSansBold;miscTabButton.Text="MISC";miscTabButton.TextColor3=Color3.fromRGB(200,200,200);miscTabButton.TextSize=14;local doorTabButton=Instance.new("TextButton");doorTabButton.Name="DoorTabButton";doorTabButton.Parent=tabContainer;doorTabButton.BackgroundColor3=Color3.fromRGB(40,40,40);doorTabButton.Position=UDim2.new(2/4 ,0,0,0);doorTabButton.Size=UDim2.new(1/4 ,0,1,0);doorTabButton.Font=Enum.Font.SourceSansBold;doorTabButton.Text="DOOR";doorTabButton.TextColor3=Color3.fromRGB(200,200,200);doorTabButton.TextSize=14;local espTabButton=Instance.new("TextButton");espTabButton.Name="EspTabButton";espTabButton.Parent=tabContainer;espTabButton.BackgroundColor3=Color3.fromRGB(40,40,40);espTabButton.Position=UDim2.new(3/4 ,0,0,0);espTabButton.Size=UDim2.new(1/4 ,0,1,0);espTabButton.Font=Enum.Font.SourceSansBold;espTabButton.Text="ESP";espTabButton.TextColor3=Color3.fromRGB(200,200,200);espTabButton.TextSize=14;local attackFrame=Instance.new("Frame");attackFrame.Name="AttackFrame";attackFrame.Parent=mainFrame;attackFrame.BackgroundTransparency=1;attackFrame.Position=UDim2.new(0,0,0,55);attackFrame.Size=UDim2.new(1,0,1, -55);attackFrame.Visible=true;local miscFrame=Instance.new("Frame");miscFrame.Name="MiscFrame";miscFrame.Parent=mainFrame;miscFrame.BackgroundTransparency=1;miscFrame.Position=UDim2.new(0,0,0,55);miscFrame.Size=UDim2.new(1,0,1, -55);miscFrame.Visible=false;local doorFrame=Instance.new("Frame");doorFrame.Name="DoorFrame";doorFrame.Parent=mainFrame;doorFrame.BackgroundTransparency=1;doorFrame.Position=UDim2.new(0,0,0,55);doorFrame.Size=UDim2.new(1,0,1, -55);doorFrame.Visible=false;local espFrame=Instance.new("Frame");espFrame.Name="EspFrame";espFrame.Parent=mainFrame;espFrame.BackgroundTransparency=1;espFrame.Position=UDim2.new(0,0,0,55);espFrame.Size=UDim2.new(1,0,1, -55);espFrame.Visible=false;local warningLabel=Instance.new("TextLabel");warningLabel.Name="WarningLabel";warningLabel.Parent=mainFrame;warningLabel.BackgroundColor3=Color3.fromRGB(255,0,0);warningLabel.BackgroundTransparency=0.3;warningLabel.BorderColor3=Color3.fromRGB(255,255,255);warningLabel.BorderSizePixel=1;warningLabel.Position=UDim2.new(0.5, -100,1, -25);warningLabel.Size=UDim2.new(0,200,0,20);warningLabel.AnchorPoint=Vector2.new(0.5,0);warningLabel.Font=Enum.Font.SourceSansBold;warningLabel.Text="Turn off all features to close!";warningLabel.TextColor3=Color3.fromRGB(255,255,255);warningLabel.TextSize=14;warningLabel.Visible=false;warningLabel.ZIndex=3;local startButton=Instance.new("TextButton");startButton.Name="StartButton";startButton.Parent=attackFrame;startButton.BackgroundColor3=Color3.fromRGB(0,160,0);startButton.Position=UDim2.new(0.5, -90,0.5, -15);startButton.Size=UDim2.new(0,80,0,30);startButton.Font=Enum.Font.SourceSansBold;startButton.Text="Start";startButton.TextColor3=Color3.fromRGB(255,255,255);startButton.TextSize=16;local stopButton=Instance.new("TextButton");stopButton.Name="StopButton";stopButton.Parent=attackFrame;stopButton.BackgroundColor3=Color3.fromRGB(180,0,0);stopButton.Position=UDim2.new(0.5,10,0.5, -15);stopButton.Size=UDim2.new(0,80,0,30);stopButton.Font=Enum.Font.SourceSansBold;stopButton.Text="Stop";stopButton.TextColor3=Color3.fromRGB(255,255,255);stopButton.TextSize=16;local sprintToggleButton=Instance.new("TextButton");sprintToggleButton.Name="SprintToggleButton";sprintToggleButton.Parent=miscFrame;sprintToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);sprintToggleButton.Position=UDim2.new(0.5, -75,0,10);sprintToggleButton.Size=UDim2.new(0,150,0,30);sprintToggleButton.Font=Enum.Font.SourceSansBold;sprintToggleButton.Text="Infinite Sprint: OFF";sprintToggleButton.TextColor3=Color3.fromRGB(255,255,255);sprintToggleButton.TextSize=16;local headMoveToggleButton=Instance.new("TextButton");headMoveToggleButton.Name="HeadMoveToggleButton";headMoveToggleButton.Parent=miscFrame;headMoveToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);headMoveToggleButton.Position=UDim2.new(0.5, -75,0,50);headMoveToggleButton.Size=UDim2.new(0,150,0,30);headMoveToggleButton.Font=Enum.Font.SourceSansBold;headMoveToggleButton.Text="Head Movement: OFF";headMoveToggleButton.TextColor3=Color3.fromRGB(255,255,255);headMoveToggleButton.TextSize=16;local magicAimToggleButton=Instance.new("TextButton");magicAimToggleButton.Name="MagicAimToggleButton";magicAimToggleButton.Parent=miscFrame;magicAimToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);magicAimToggleButton.Position=UDim2.new(0.5, -75,0,90);magicAimToggleButton.Size=UDim2.new(0,150,0,30);magicAimToggleButton.Font=Enum.Font.SourceSansBold;magicAimToggleButton.Text="Magic Aim: OFF";magicAimToggleButton.TextColor3=Color3.fromRGB(255,255,255);magicAimToggleButton.TextSize=16;local autoTeleportButton=Instance.new("TextButton");autoTeleportButton.Name="AutoTeleportButton";autoTeleportButton.Parent=miscFrame;autoTeleportButton.BackgroundColor3=Color3.fromRGB(180,0,0);autoTeleportButton.Position=UDim2.new(0.5, -75,0,130);autoTeleportButton.Size=UDim2.new(0,150,0,30);autoTeleportButton.Font=Enum.Font.SourceSansBold;autoTeleportButton.Text="Auto Teleport: OFF";autoTeleportButton.TextColor3=Color3.fromRGB(255,255,255);autoTeleportButton.TextSize=16;local autoLockToggleButton=Instance.new("TextButton");autoLockToggleButton.Name="AutoLockToggleButton";autoLockToggleButton.Parent=miscFrame;autoLockToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);autoLockToggleButton.Position=UDim2.new(0.5, -75,0,170);autoLockToggleButton.Size=UDim2.new(0,150,0,30);autoLockToggleButton.Font=Enum.Font.SourceSansBold;autoLockToggleButton.Text="Auto Lock: OFF";autoLockToggleButton.TextColor3=Color3.fromRGB(255,255,255);autoLockToggleButton.TextSize=16;local doorKickButton=Instance.new("TextButton");doorKickButton.Name="KickButton";doorKickButton.Parent=doorFrame;doorKickButton.BackgroundColor3=Color3.fromRGB(200,100,50);doorKickButton.Position=UDim2.new(0.5, -100,0,20);doorKickButton.Size=UDim2.new(0,200,0,30);doorKickButton.Font=Enum.Font.SourceSansBold;doorKickButton.Text="Kick Door";doorKickButton.TextColor3=Color3.fromRGB(255,255,255);doorKickButton.TextSize=16;local doorCheckButton=Instance.new("TextButton");doorCheckButton.Name="CheckButton";doorCheckButton.Parent=doorFrame;doorCheckButton.BackgroundColor3=Color3.fromRGB(50,100,200);doorCheckButton.Position=UDim2.new(0.5, -100,0,60);doorCheckButton.Size=UDim2.new(0,200,0,30);doorCheckButton.Font=Enum.Font.SourceSansBold;doorCheckButton.Text="Check Status";doorCheckButton.TextColor3=Color3.fromRGB(255,255,255);doorCheckButton.TextSize=16;local doorStatusLabel=Instance.new("TextLabel");doorStatusLabel.Name="StatusLabel";doorStatusLabel.Parent=doorFrame;doorStatusLabel.Size=UDim2.new(1, -20,0,30);doorStatusLabel.Position=UDim2.new(0.5, -100,0,100);doorStatusLabel.BackgroundColor3=Color3.fromRGB(31,31,31);doorStatusLabel.TextColor3=Color3.fromRGB(200,200,200);doorStatusLabel.Text="Status: Look at a door";doorStatusLabel.Font=Enum.Font.SourceSans;doorStatusLabel.TextSize=14;local powderEspToggleButton=Instance.new("TextButton");powderEspToggleButton.Name="PowderEspToggleButton";powderEspToggleButton.Parent=espFrame;powderEspToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);powderEspToggleButton.Position=UDim2.new(0.5, -75,0,10);powderEspToggleButton.Size=UDim2.new(0,150,0,30);powderEspToggleButton.Font=Enum.Font.SourceSansBold;powderEspToggleButton.Text="Powder ESP: OFF";powderEspToggleButton.TextColor3=Color3.fromRGB(255,255,255);powderEspToggleButton.TextSize=16;local bottleEspToggleButton=Instance.new("TextButton");bottleEspToggleButton.Name="BottleEspToggleButton";bottleEspToggleButton.Parent=espFrame;bottleEspToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);bottleEspToggleButton.Position=UDim2.new(0.5, -75,0,50);bottleEspToggleButton.Size=UDim2.new(0,150,0,30);bottleEspToggleButton.Font=Enum.Font.SourceSansBold;bottleEspToggleButton.Text="Bottle ESP: OFF";bottleEspToggleButton.TextColor3=Color3.fromRGB(255,255,255);bottleEspToggleButton.TextSize=16;local rollEspToggleButton=Instance.new("TextButton");rollEspToggleButton.Name="RollEspToggleButton";rollEspToggleButton.Parent=espFrame;rollEspToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);rollEspToggleButton.Position=UDim2.new(0.5, -75,0,90);rollEspToggleButton.Size=UDim2.new(0,150,0,30);rollEspToggleButton.Font=Enum.Font.SourceSansBold;rollEspToggleButton.Text="Roll ESP: OFF";rollEspToggleButton.TextColor3=Color3.fromRGB(255,255,255);rollEspToggleButton.TextSize=16;local drillEspToggleButton=Instance.new("TextButton");drillEspToggleButton.Name="DrillEspToggleButton";drillEspToggleButton.Parent=espFrame;drillEspToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);drillEspToggleButton.Position=UDim2.new(0.5, -75,0,130);drillEspToggleButton.Size=UDim2.new(0,150,0,30);drillEspToggleButton.Font=Enum.Font.SourceSansBold;drillEspToggleButton.Text="Drill ESP: OFF";drillEspToggleButton.TextColor3=Color3.fromRGB(255,255,255);drillEspToggleButton.TextSize=16;local vendingEspToggleButton=Instance.new("TextButton");vendingEspToggleButton.Name="VendingEspToggleButton";vendingEspToggleButton.Parent=espFrame;vendingEspToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);vendingEspToggleButton.Position=UDim2.new(0.5, -75,0,170);vendingEspToggleButton.Size=UDim2.new(0,150,0,30);vendingEspToggleButton.Font=Enum.Font.SourceSansBold;vendingEspToggleButton.Text="Vending ESP: OFF";vendingEspToggleButton.TextColor3=Color3.fromRGB(255,255,255);vendingEspToggleButton.TextSize=16;local boxEspToggleButton=Instance.new("TextButton");boxEspToggleButton.Name="BoxEspToggleButton";boxEspToggleButton.Parent=espFrame;boxEspToggleButton.BackgroundColor3=Color3.fromRGB(180,0,0);boxEspToggleButton.Position=UDim2.new(0.5, -75,0,210);boxEspToggleButton.Size=UDim2.new(0,150,0,30);boxEspToggleButton.Font=Enum.Font.SourceSansBold;boxEspToggleButton.Text="Box ESP: OFF";boxEspToggleButton.TextColor3=Color3.fromRGB(255,255,255);boxEspToggleButton.TextSize=16;local function getClosestPlayer() local closestPlayer=nil;local shortestDistance=math.huge;local localCharacter=localPlayer.Character;if ( not localCharacter or  not localCharacter:FindFirstChild("HumanoidRootPart")) then return nil;end local localRootPart=localCharacter.HumanoidRootPart;for _,player in ipairs(Players:GetPlayers()) do if ((player~=localPlayer) and player.Character and player.Character:FindFirstChild("HumanoidRootPart")) then local distance=(localRootPart.Position-player.Character.HumanoidRootPart.Position).Magnitude;if (distance<shortestDistance) then shortestDistance=distance;closestPlayer=player;end end end return closestPlayer;end local function getTargetPlayer() if isAutoLocking then if  not isFistEquipped then return nil;end if (lockedTarget and lockedTarget.Parent and lockedTarget.Character and lockedTarget.Character.Parent) then return lockedTarget;else lockedTarget=getClosestPlayer();return lockedTarget;end else return getClosestPlayer();end end local function attackLoop() while isPunching do local character=localPlayer.Character;if (character and character:FindFirstChild("HumanoidRootPart")) then local fist=character:FindFirstChild("Fist");if (fist and fist:FindFirstChild("Events") and fist.Events:FindFirstChild("Punch")) then local punchEvent=fist.Events.Punch;local targetPlayer=getTargetPlayer();if (targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart")) then local targetPart=targetPlayer.Character:FindFirstChild("Head");if targetPart then local localRootPart=character.HumanoidRootPart;local targetRootPart=targetPlayer.Character.HumanoidRootPart;if isAutoTeleporting then localRootPart.CFrame=CFrame.new(targetRootPart.Position + (targetRootPart.CFrame.LookVector * 3.5) );end localRootPart.CFrame=CFrame.new(localRootPart.Position,Vector3.new(targetRootPart.Position.X,localRootPart.Position.Y,targetRootPart.Position.Z));punchEvent:FireServer(targetPart,"Damage","Punch1");end end end end RunService.Heartbeat:Wait();end end local lastHeadMoveSync=0;local function headMovementRenderStep() if  not isHeadMoving then return;end local character=localPlayer.Character;local camera=workspace.CurrentCamera;if  not (character and camera and character:FindFirstChild("Head") and character:FindFirstChild("UpperTorso") and character:FindFirstChild("HumanoidRootPart")) then return;end local head,upperTorso,neck,waist=character.Head,character.UpperTorso,character.Head:FindFirstChild("Neck"),character.UpperTorso:FindFirstChild("Waist");if  not (neck and waist) then return;end local angles=CFrame.new(character.HumanoidRootPart.Position,character.HumanoidRootPart.Position + camera.CFrame.LookVector );local _,y,_=angles:ToOrientation();neck.C0=neck.C0:Lerp(originalNeckC0 * CFrame.Angles(math.asin(camera.CFrame.LookVector.Y) *  -1 ,0,0) * CFrame.Angles(0,y,0) ,0.3);waist.C0=waist.C0:Lerp(originalWaistC0 * CFrame.Angles(0,y,0) ,0.3);if ((time() -lastHeadMoveSync)>=0.5) then lastHeadMoveSync=time();local headMoveEvent=ReplicatedStorage:FindFirstChild("HeadMovementEvent");if headMoveEvent then headMoveEvent:FireServer(neck.C0,waist.C0);end end end local function magicAimRenderStep() if  not isMagicAiming then return;end local target=getTargetPlayer();local localChar=localPlayer.Character;if  not (target and target.Character and localChar and localChar:FindFirstChild("Head")) then return;end local targetChar=target.Character;local targetNeck=targetChar:FindFirstChild("Head") and targetChar.Head:FindFirstChild("Neck") ;local targetWaist=targetChar:FindFirstChild("UpperTorso") and targetChar.UpperTorso:FindFirstChild("Waist") ;local targetRoot=targetChar:FindFirstChild("HumanoidRootPart");if  not (targetNeck and targetWaist and targetRoot) then return;end if  not originalTargetJoints[target.UserId] then originalTargetJoints[target.UserId]={neck=targetNeck.C0,waist=targetWaist.C0,character=targetChar};targetChar.Destroying:Connect(function() originalTargetJoints[target.UserId]=nil;end);end local originalJoints=originalTargetJoints[target.UserId];if  not originalJoints then return;end local lookFromPos=targetRoot.Position;local lookAtPos=localChar.Head.Position;local relativeLook=targetRoot.CFrame:ToObjectSpace(CFrame.lookAt(lookFromPos,lookAtPos));local _,y,_=relativeLook:ToOrientation();local pitch=math.asin((lookAtPos.Y-lookFromPos.Y)/(lookAtPos-lookFromPos).Magnitude );targetNeck.C0=targetNeck.C0:Lerp(originalJoints.neck * CFrame.Angles( -pitch,0,0) * CFrame.Angles(0, -y,0) ,0.3);targetWaist.C0=targetWaist.C0:Lerp(originalJoints.waist * CFrame.Angles(0, -y,0) ,0.3);end local function findDoorInFront() local character=localPlayer.Character;if  not character then return nil;end local rayOrigin=camera.CFrame.Position;local rayDirection=camera.CFrame.LookVector * 20 ;local raycastParams=RaycastParams.new();raycastParams.FilterDescendantsInstances={character};raycastParams.FilterType=Enum.RaycastFilterType.Exclude;local raycastResult=workspace:Raycast(rayOrigin,rayDirection,raycastParams);if (raycastResult and raycastResult.Instance) then local hitPart=raycastResult.Instance;local doorModel=nil;local currentObject=hitPart;while currentObject and (currentObject~=workspace)  do if (currentObject.Parent==workspace:FindFirstChild("Doors")) then doorModel=currentObject;return doorModel;end currentObject=currentObject.Parent;end end return nil;end local function applyHighlight(part,espType,color) if (espType=="Bottle") then if (part.Transparency~=0) then return;end if part:FindFirstAncestor("WaterCooler") then return;end elseif (espType=="Drill") then if (part.Transparency~=0) then return;end elseif (espType=="Box") then if (part.Position.Y<= -10) then return;end end local highlightName=espType   .. "Highlight" ;if part:FindFirstChild(highlightName) then return;end local highlight=Instance.new("Highlight");highlight.Name=highlightName;highlight.Parent=part;highlight.FillColor=color;highlight.OutlineColor=Color3.fromRGB(255,255,255);highlight.FillTransparency=0.5;highlight.OutlineTransparency=0;table.insert(activeHighlights[espType],highlight);end local function updateEsp(espType,color,searchFolder) if  not searchFolder then return;end for _,descendant in ipairs(searchFolder:GetDescendants()) do if (descendant:IsA("BasePart") and (descendant.Name==espType)) then applyHighlight(descendant,espType,color);end end end local function clearEsp(espType) if  not activeHighlights[espType] then return;end for _,highlight in ipairs(activeHighlights[espType]) do if (highlight and highlight.Parent) then highlight:Destroy();end end activeHighlights[espType]={};end local function esp_updateVendingHighlight(machinePart) if ( not machinePart or  not machinePart.Parent) then return;end local data=vendingEspTrackedItems[machinePart];if  not data then return;end local robbedValue=machinePart:FindFirstChild("Robbed");local isRobbed=robbedValue and robbedValue:IsA("BoolValue") and robbedValue.Value ;if (isRobbed and data.Highlight) then data.Highlight:Destroy();data.Highlight=nil;elseif ( not isRobbed and  not data.Highlight) then local highlight=Instance.new("Highlight");highlight.Name="VendingHighlight";highlight.FillColor=Color3.fromRGB(0,200,255);highlight.OutlineColor=Color3.fromRGB(255,255,255);highlight.FillTransparency=0.5;highlight.OutlineTransparency=0;highlight.Parent=machinePart;data.Highlight=highlight;end end local function esp_trackVendingMachine(machinePart) if vendingEspTrackedItems[machinePart] then return;end local robbedValue=machinePart:FindFirstChild("Robbed");if  not (robbedValue and robbedValue:IsA("BoolValue")) then return;end local data={};data.Connection=robbedValue.Changed:Connect(function() esp_updateVendingHighlight(machinePart);end);vendingEspTrackedItems[machinePart]=data;esp_updateVendingHighlight(machinePart);end local function esp_untrackAllVendingMachines() for machinePart,data in pairs(vendingEspTrackedItems) do if data.Connection then data.Connection:Disconnect();end if data.Highlight then data.Highlight:Destroy();end end vendingEspTrackedItems={};end local function onChildAdded(child) if (child:IsA("Tool") and (child.Name=="Fist")) then isFistEquipped=true;end end local function onChildRemoved(child) if (child:IsA("Tool") and (child.Name=="Fist")) then isFistEquipped=false;end end local function onCharacterAdded(character) isFistEquipped=character:FindFirstChild("Fist")~=nil ;character.ChildAdded:Connect(onChildAdded);character.ChildRemoved:Connect(onChildRemoved);end if localPlayer.Character then onCharacterAdded(localPlayer.Character);end localPlayer.CharacterAdded:Connect(onCharacterAdded);local function setButtonState(button,text,color) button.Text=text;button.BackgroundColor3=color;end local function setActiveTab(activeTab) local tabs={Attack={button=attackTabButton,frame=attackFrame},Misc={button=miscTabButton,frame=miscFrame},Door={button=doorTabButton,frame=doorFrame},Esp={button=espTabButton,frame=espFrame}};for name,data in pairs(tabs) do local isActive=data.button==activeTab ;data.frame.Visible=isActive;data.button.BackgroundColor3=(isActive and Color3.fromRGB(60,60,60)) or Color3.fromRGB(40,40,40) ;data.button.TextColor3=(isActive and Color3.fromRGB(255,255,255)) or Color3.fromRGB(200,200,200) ;end end attackTabButton.MouseButton1Click:Connect(function() setActiveTab(attackTabButton);end);miscTabButton.MouseButton1Click:Connect(function() setActiveTab(miscTabButton);end);doorTabButton.MouseButton1Click:Connect(function() setActiveTab(doorTabButton);end);espTabButton.MouseButton1Click:Connect(function() setActiveTab(espTabButton);end);startButton.MouseButton1Click:Connect(function() if  not isPunching then print("Auto-punch started.");isPunching=true;attackCoroutine=task.spawn(attackLoop);setButtonState(startButton,"Start",Color3.fromRGB(0,100,0));setButtonState(stopButton,"Stop",Color3.fromRGB(180,0,0));end end);stopButton.MouseButton1Click:Connect(function() if isPunching then print("Auto-punch stopped.");isPunching=false;attackCoroutine=nil;setButtonState(startButton,"Start",Color3.fromRGB(0,160,0));setButtonState(stopButton,"Stop",Color3.fromRGB(120,0,0));end end);sprintToggleButton.MouseButton1Click:Connect(function() isSprinting= not isSprinting;local speedEvent=ReplicatedStorage:WaitForChild("Run",5) and ReplicatedStorage.Run:WaitForChild("Speed",5) ;if  not speedEvent then warn("Could not find Speed remote event.");isSprinting= not isSprinting;return;end if isSprinting then print("Sprint Activated.");speedEvent:FireServer("Go");setButtonState(sprintToggleButton,"Infinite Sprint: ON",Color3.fromRGB(0,160,0));else print("Sprint Deactivated.");speedEvent:FireServer("Stop");setButtonState(sprintToggleButton,"Infinite Sprint: OFF",Color3.fromRGB(180,0,0));end end);headMoveToggleButton.MouseButton1Click:Connect(function() isHeadMoving= not isHeadMoving;local char=localPlayer.Character;if isHeadMoving then if (char and char:FindFirstChild("Head") and char.Head:FindFirstChild("Neck") and char:FindFirstChild("UpperTorso") and char.UpperTorso:FindFirstChild("Waist")) then print("Head Movement Activated.");originalNeckC0,originalWaistC0=char.Head.Neck.C0,char.UpperTorso.Waist.C0;RunService:BindToRenderStep(headMoveRenderStepName,Enum.RenderPriority.Character.Value,headMovementRenderStep);setButtonState(headMoveToggleButton,"Head Movement: ON",Color3.fromRGB(0,160,0));else warn("Character parts not found for Head Movement.");isHeadMoving=false;end else print("Head Movement Deactivated.");RunService:UnbindFromRenderStep(headMoveRenderStepName);if (char and originalNeckC0 and originalWaistC0 and char:FindFirstChild("Head") and char.Head:FindFirstChild("Neck") and char:FindFirstChild("UpperTorso") and char.UpperTorso:FindFirstChild("Waist")) then char.Head.Neck.C0,char.UpperTorso.Waist.C0=originalNeckC0,originalWaistC0;end setButtonState(headMoveToggleButton,"Head Movement: OFF",Color3.fromRGB(180,0,0));end end);magicAimToggleButton.MouseButton1Click:Connect(function() isMagicAiming= not isMagicAiming;if isMagicAiming then print("Magic Aim Activated.");RunService:BindToRenderStep(magicAimRenderStepName,Enum.RenderPriority.Character.Value + 1 ,magicAimRenderStep);setButtonState(magicAimToggleButton,"Magic Aim: ON",Color3.fromRGB(0,160,0));else print("Magic Aim Deactivated.");RunService:UnbindFromRenderStep(magicAimRenderStepName);for _,data in pairs(originalTargetJoints) do if (data.character and data.character.Parent) then local neck,waist=data.character.Head:FindFirstChild("Neck"),data.character.UpperTorso:FindFirstChild("Waist");if (neck and waist) then neck.C0,waist.C0=data.neck,data.waist;end end end originalTargetJoints={};setButtonState(magicAimToggleButton,"Magic Aim: OFF",Color3.fromRGB(180,0,0));end end);autoTeleportButton.MouseButton1Click:Connect(function() isAutoTeleporting= not isAutoTeleporting;if isAutoTeleporting then print("Auto Teleport Activated.");setButtonState(autoTeleportButton,"Auto Teleport: ON",Color3.fromRGB(0,160,0));else print("Auto Teleport Deactivated.");setButtonState(autoTeleportButton,"Auto Teleport: OFF",Color3.fromRGB(180,0,0));end end);autoLockToggleButton.MouseButton1Click:Connect(function() isAutoLocking= not isAutoLocking;if isAutoLocking then print("Auto Lock Activated.");setButtonState(autoLockToggleButton,"Auto Lock: ON",Color3.fromRGB(0,160,0));else print("Auto Lock Deactivated.");lockedTarget=nil;setButtonState(autoLockToggleButton,"Auto Lock: OFF",Color3.fromRGB(180,0,0));end end);doorKickButton.MouseButton1Click:Connect(function() if doorDebounce then return;end doorDebounce=true;local door=findDoorInFront();if (door and KickDoorEvent) then doorStatusLabel.Text="Kicking "   .. door.Name   .. "..." ;KickDoorEvent:FireServer(door);else doorStatusLabel.Text="No door found to kick.";end task.wait(1);doorDebounce=false;end);doorCheckButton.MouseButton1Click:Connect(function() if doorDebounce then return;end doorDebounce=true;local door=findDoorInFront();if (door and DoorStatusFunction) then doorStatusLabel.Text="Checking "   .. door.Name   .. "..." ;local result=DoorStatusFunction:InvokeServer(door);if result then local openStatus=(result.Open and "Open") or "Closed" ;local lockStatus=(result.Locked and "Locked") or "Unlocked" ;doorStatusLabel.Text=string.format("%s: %s, %s",door.Name,openStatus,lockStatus);else doorStatusLabel.Text="Failed to get status.";end else doorStatusLabel.Text="No door found to check.";end task.wait(1);doorDebounce=false;end);powderEspToggleButton.MouseButton1Click:Connect(function() isPowderEspOn= not isPowderEspOn;if isPowderEspOn then print("Powder ESP Activated.");setButtonState(powderEspToggleButton,"Powder ESP: ON",Color3.fromRGB(0,160,0));updateEsp("Powder",Color3.fromRGB(0,255,150),workspace);espConnections.Powder=workspace.DescendantAdded:Connect(function(d) if (d:IsA("BasePart") and (d.Name=="Powder")) then applyHighlight(d,"Powder",Color3.fromRGB(0,255,150));end end);else print("Powder ESP Deactivated.");setButtonState(powderEspToggleButton,"Powder ESP: OFF",Color3.fromRGB(180,0,0));if espConnections.Powder then espConnections.Powder:Disconnect();espConnections.Powder=nil;end clearEsp("Powder");end end);bottleEspToggleButton.MouseButton1Click:Connect(function() isBottleEspOn= not isBottleEspOn;if isBottleEspOn then print("Bottle ESP Activated.");setButtonState(bottleEspToggleButton,"Bottle ESP: ON",Color3.fromRGB(0,160,0));local interactableFolder=workspace:FindFirstChild("Interactable");updateEsp("Bottle",Color3.fromRGB(0,150,255),interactableFolder);if interactableFolder then espConnections.Bottle=interactableFolder.ChildAdded:Connect(function(c) if (c:IsA("BasePart") and (c.Name=="Bottle")) then applyHighlight(c,"Bottle",Color3.fromRGB(0,150,255));end end);end else print("Bottle ESP Deactivated.");setButtonState(bottleEspToggleButton,"Bottle ESP: OFF",Color3.fromRGB(180,0,0));if espConnections.Bottle then espConnections.Bottle:Disconnect();espConnections.Bottle=nil;end clearEsp("Bottle");end end);rollEspToggleButton.MouseButton1Click:Connect(function() isRollEspOn= not isRollEspOn;if isRollEspOn then print("Roll ESP Activated.");setButtonState(rollEspToggleButton,"Roll ESP: ON",Color3.fromRGB(0,160,0));updateEsp("Roll",Color3.fromRGB(255,180,0),workspace);espConnections.Roll=workspace.DescendantAdded:Connect(function(d) if (d:IsA("BasePart") and (d.Name=="Roll")) then applyHighlight(d,"Roll",Color3.fromRGB(255,180,0));end end);else print("Roll ESP Deactivated.");setButtonState(rollEspToggleButton,"Roll ESP: OFF",Color3.fromRGB(180,0,0));if espConnections.Roll then espConnections.Roll:Disconnect();espConnections.Roll=nil;end clearEsp("Roll");end end);drillEspToggleButton.MouseButton1Click:Connect(function() isDrillEspOn= not isDrillEspOn;if isDrillEspOn then print("Drill ESP Activated.");setButtonState(drillEspToggleButton,"Drill ESP: ON",Color3.fromRGB(0,160,0));updateEsp("Drill",Color3.fromRGB(220,0,220),workspace);espConnections.Drill=workspace.DescendantAdded:Connect(function(d) if (d:IsA("BasePart") and (d.Name=="Drill")) then applyHighlight(d,"Drill",Color3.fromRGB(220,0,220));end end);else print("Drill ESP Deactivated.");setButtonState(drillEspToggleButton,"Drill ESP: OFF",Color3.fromRGB(180,0,0));if espConnections.Drill then espConnections.Drill:Disconnect();espConnections.Drill=nil;end clearEsp("Drill");end end);vendingEspToggleButton.MouseButton1Click:Connect(function() isVendingEspOn= not isVendingEspOn;if isVendingEspOn then print("Vending Machine ESP Activated.");setButtonState(vendingEspToggleButton,"Vending ESP: ON",Color3.fromRGB(0,160,0));for _,descendant in ipairs(workspace:GetDescendants()) do if (descendant:IsA("BasePart") and (descendant.Name=="Vending Machine")) then esp_trackVendingMachine(descendant);end end vendingEspTrackedItems.DescendantAddedConnection=workspace.DescendantAdded:Connect(function(d) if (d:IsA("BasePart") and (d.Name=="Vending Machine")) then esp_trackVendingMachine(d);end end);else print("Vending Machine ESP Deactivated.");setButtonState(vendingEspToggleButton,"Vending ESP: OFF",Color3.fromRGB(180,0,0));if vendingEspTrackedItems.DescendantAddedConnection then vendingEspTrackedItems.DescendantAddedConnection:Disconnect();vendingEspTrackedItems.DescendantAddedConnection=nil;end esp_untrackAllVendingMachines();end end);boxEspToggleButton.MouseButton1Click:Connect(function() isBoxEspOn= not isBoxEspOn;if isBoxEspOn then print("Box ESP Activated.");setButtonState(boxEspToggleButton,"Box ESP: ON",Color3.fromRGB(0,160,0));local boxFolder=workspace:FindFirstChild("Map") and workspace.Map:FindFirstChild("Boxes") ;if boxFolder then updateEsp("Box",Color3.fromRGB(255,128,0),boxFolder);espConnections.Box=boxFolder.ChildAdded:Connect(function(c) if (c:IsA("BasePart") and (c.Name=="Box")) then applyHighlight(c,"Box",Color3.fromRGB(255,128,0));end end);else warn("Box ESP: Could not find workspace.Map.Boxes folder.");end else print("Box ESP Deactivated.");setButtonState(boxEspToggleButton,"Box ESP: OFF",Color3.fromRGB(180,0,0));if espConnections.Box then espConnections.Box:Disconnect();espConnections.Box=nil;end clearEsp("Box");end end);minimizeButton.MouseButton1Click:Connect(function() isMinimized= not isMinimized;local newHeight=(isMinimized and 30) or 390 ;mainFrame.Size=UDim2.new(0,250,0,newHeight);tabContainer.Visible= not isMinimized;attackFrame.Visible,miscFrame.Visible,doorFrame.Visible,espFrame.Visible=false,false,false,false;if isMinimized then minimizeButton.Text="+";else minimizeButton.Text="-";if (attackTabButton.BackgroundColor3==Color3.fromRGB(60,60,60)) then attackFrame.Visible=true;elseif (miscTabButton.BackgroundColor3==Color3.fromRGB(60,60,60)) then miscFrame.Visible=true;elseif (doorTabButton.BackgroundColor3==Color3.fromRGB(60,60,60)) then doorFrame.Visible=true;else espFrame.Visible=true;end end end);closeButton.MouseButton1Click:Connect(function() if (isPunching or isSprinting or isHeadMoving or isMagicAiming or isAutoTeleporting or isAutoLocking or isPowderEspOn or isBottleEspOn or isRollEspOn or isDrillEspOn or isVendingEspOn or isBoxEspOn) then warningLabel.Visible=true;task.delay(3,function() warningLabel.Visible=false;end);return;end print("Closing Auto-Tools GUI.");screenGui:Destroy();end); end